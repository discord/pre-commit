#!/bin/bash
# File generated by pre-commit: https://pre-commit.com
# ID: 138fd403232d2ddd5efb44317e38bf03

# This is used to commit a previously edited commit message from an editor opened by pre-commit
# without having the user's editor open again.

set -euf -o pipefail

DRAFT_FILE='.git/pre-commit/COMMIT_EDITMSG'

if [ -f "$DRAFT_FILE" ]; then
  cat "$DRAFT_FILE" > "$1"
  rm -f "$DRAFT_FILE"
else
  pushd / > /dev/null
  global_editor="$(git var GIT_EDITOR)"
  popd > /dev/null
  $global_editor "$@"
fi
